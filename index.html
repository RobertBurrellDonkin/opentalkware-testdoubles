<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- 

This work is licensed under the Creative Commons Attribution 3.0 Unported License. 
To view a copy of this license, visit http://creativecommons.org/licenses/by/3.0/ 
or send a letter to Creative Commons, 171 Second Street, Suite 300, San Francisco, California, 94105, USA.

-->

<html xmlns="http://www.w3.org/1999/xhtml">

<!--
START META-DATA 
-->
<head>
<title>Test Doubles: An Introduction To Unit Test Patterns</title>
<!-- metadata -->
<meta name="generator" content="S5" />
<meta name="version" content="S5 1.2a2" />
<meta name="author" content="Robert Burrell Donkin" />
<meta name="company" content="OpenTalkWare" />

<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />

<!-- style sheet links -->
<link rel="stylesheet" href="ui/default/slides.css" type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="ui/default/outline.css" type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="ui/default/print.css" type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/default/opera.css" type="text/css" media="projection" id="operaFix" />

<!-- embedded styles -->
<style type="text/css" media="all">
div.cite {text-align: right; font-style: italic; font-family: monospace; font-size: smaller;}
</style>

<!-- S5 JS -->
<script src="ui/default/slides.js" type="text/javascript"></script>

</head>
<!--
END META-DATA 
-->



<body>

<!--
START COMMON LAYOUT
-->
<div class="layout">
<div id="controls"><!-- DO NOT EDIT --></div>
<div id="currentSlide"><!-- DO NOT EDIT --></div>
<div id="header"></div>
<div id="footer">
<h1>Test Doubles: An Introduction To Unit Test Patterns</h1>
<h2><a rel="license" href="http://creativecommons.org/licenses/by/3.0/">
<img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/80x15.png" />
</a>
&#8226; 
<a rel="tag" href="http://www.opentalkware.org/">
<img alt="OpenTalkWare" style="border-width:0" src="logo/opentalkware.png" />
</a>
</h2>
</div>
</div>
<!--
END COMMON LAYOUT
-->



<div class="presentation">


<!--
START PREFACE
-->
<div class="slide">
<h1>Test Doubles</h1>
<h2>An Introduction To Unit Test Patterns</h2>
<!-- 
START OPEN CONTENT ONLY
Derivative works which are not open content should remove the follow 
-->
<h4>This is <a href="http://www.opentalkware.org/" rel="external">OpenTalkWare</a></h4>
<!-- 
END OPEN CONTENT ONLY
-->

<div class="handout">
<!-- 
Document license
-->
<h4>License</h4>
<p>
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/">
<img alt="CC-BY" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/80x15.png" /></a>
This work is licensed under the Creative Commons Attribution 3.0 Unported License.
</p>

<h4>Attribution</h4>
<!-- 
START ATTRIBUTION 

This section should be retained by derivative works.

See http://creativecommons.org/licenses/by/3.0/

-->
<p>
Based on
<span xmlns:dc="http://purl.org/dc/elements/1.1/" 
  href="http://purl.org/dc/dcmitype/Text" 
  property="dc:title" rel="dc:type">Test Doubles: An Introduction To Unit Test Patterns</span> 
  by 
<a xmlns:cc="http://creativecommons.org/ns#" 
  href="http://www.opentalkware.org" 
  property="cc:attributionName" 
  rel="cc:attributionURL">OpenTalkWare</a>
  The original source available
  from <a 
    xmlns:dc="http://purl.org/dc/elements/1.1/" 
    href="http://opentalkware.googlecode.com/svn/talk/" rel="dc:source">OpenTalkWare</a>
    is licensed under the
    <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.
The original uses <a href='http://meyerweb.com/eric/tools/s5/'>S5</a> which is public domain. Please see the
<a href='http://www.meyerweb.com/eric/tools/s5/credits.html'>credits</a> for information about all the wonderful and 
talented contributors to S5!
</p>
<!-- 
END ATTRIBUTION
-->


<!--
ABSTRACT 
-->
<h4>Summary</h4>
  <p>
 An introduction to unit testing design patterns illustrated by
 an in depth look at Test Doubles (Dummies, Mocks, Fakes And Stubs).
  </p>
<h4>Abstract</h4>
  <p>
 Unit testing is a widely used agile technique. The basics can be learnt
 quickly but developers new to unit testing often struggle to create high 
 quality, maintainable tests. Design patterns describe a solution vocabulary
 for reoccuring concepts. They are widely used as tools to improve the 
 quality of object oriented designs. This talk introduces the pattern 
 language of the unit testing domain, illustrated by Test Doubles: 
 Dummies, Mocks, Fakes and Stubs (an area with many traps for the unwary).
  </p>
</div>

<div class='notes'>
  <ul>
    <li>
<strong>Level</strong> - 
Intermediary, knowledge of the mechanics of unit testing will be assumed
    </li>
  </ul>
</div>
</div>
<!--
END PREFACE
-->









<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>TODO: SLIDE TITLE</h1>
<ul class='incremental'>
<li>TODO: Content</li>
</ul>

<div class='handout'>
  <p>
  TODO:
  Foo bar blah
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO:</li>
  <li>TODO:</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->








<!-- 
###############################################################################################
#
#
# CATALOG
#
#
###############################################################################################
-->




<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>Term: System Under Test</h1>
<blockquote>
<p>
"Software developers will probably find the term 'system under test' ... unfamiliar.<br/>
It is short for 'whatever thing we are testing'."
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>
<ul class='incremental'>
  <li>Abbreviated as SUT</li>
  <li>But <code>subject</code> often works better when naming variables</li>
</ul>
<div class='handout'>
  <p>
  TODO:
  </p>
  <p>
  A shorter name often preferrable to developers is <code>subject</code> or <code>subjectOfTest</code>.
  This is most appropriate for finely grained tests which focus exclusively on a primary
  class. 
  </p>
  <p>
  Choosing good variable names means tests are more readable and maintainable. It is often not
  immediately obvious from the context which object is the <abbr title='Subject Under Test'>SUT</abbr>.
  Naming the variable referencing the SUT <code>subject</code> or <code>systemUnderTest</code> makes
  this immediately clear to the reader.
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->


<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>Term: Fixture</h1>
<blockquote>
<p>
"All the things we need to have in place to run a test and expect a particular outcome."
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>

<div class='handout'>
  <p>
  <em>Fixture</em> is one of those terms that's hard to define well. Different people and different tools
  use it with subtly different shades of meaning. Following 
  <a href='#xunittestpatterns'>Gerard Meszaros</a>, this talk uses it to mean the <em>test context</em>.
  Those familar with <a href='#nunit'>NUnit</a> may find this usage a little unnatural.
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>

</div>
<!--  
END OF SLIDE 
-->




<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>TODO: State Verification</h1>
<ul class='incremental'>
<li></li>
</ul>

<div class='handout'>
  <p>
  Foo bar blah
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->




<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>TODO: Behaviour Verification</h1>
<ul class='incremental'>
<li></li>
</ul>

<div class='handout'>
  <p>
  Foo bar blah
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->




<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>Pattern - Test Double</h1>
<blockquote>
<p>
"How can we verify logic independently when code it depends on is unusable?<br/>
How can we avoid Slow Tests?<br/>
We replace a component on which the SUT depends with a 'test specific equivalent'."
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>

<div class='handout'>
  <p>
  A test double is an imposter for a depended-upon-component. The double presents an API
  compatible with the authentic dependency but differs in behaviour.
  </p>
  <p>
  There are lots of reasons why test doubles might be used. 
  Most of these will be covered in detail in later patterns.
  </p>
  <p>
  Within a test, test doubles may be used for used for different purpose
  and even the same double may play a number of roles. This means that it's very easy for
  developers to loose clarity about the purpose of a particular double. This often leads
  to unmaintainable, brittle tests. A consequence is that particular care needs to be taken
  to ensure that tests involving doubles are clearly documented and understandable.
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->


<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>Pattern - Test Double:Test Stub</h1>
<ul class='incremental'>
<li></li>
</ul>

<div class='handout'>
  <p>
  Foo bar blah
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->



<!-- 
###############################################################################################
#
#
# EPILOGUE
#
#
###############################################################################################
-->


<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>Tools</h1>

<ul>
  <li>
  <a name='nunit' href='http://www.nunit.org/'>NUnit</a> is an idiomatic <code>.NET</code>
  unit testing framework
  </li>
</ul>

<div class='handout'>
  <p>
  Foo bar blah
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>

</div>
<!--  
END OF SLIDE 
-->



<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>Reading</h1>

<ul>
  <li>
  <a name='xunittestpatterns' href='http://xunitpatterns.com/'>xUnit Test Patterns: Refactoring Test Code</a> 
  by <cite>Gerard Meszaros</cite>
  </li>
  <li>
  <a name='refactoring' href='http://martinfowler.com/books.html#refactoring'>Refactoring: Improving the Design of Existing Code</a> 
  by <cite>Martin Fowler</cite>
  </li>
  <li>
  <a name='designpatterns' href='http://c2.com/cgi/wiki?DesignPatternsBook'>Design Patterns: Elements of Reusable Object-Oriented Software</a> 
  by <cite>Erich Gamma</cite> <cite>Richard Helm</cite> <cite>Ralph Johnson</cite> <cite>John Vlissides</cite>
  </li>
</ul>

<div class='handout'>
  <p>
  A huge debt is owed to <a href='#xunittestpatterns'>xUnit Test Patterns</a>. The design patterns, terminology and code smells
  described are described and explained in that book. It's only possible to cover a small 
  amount of the material contained in that comprehensive tome but hopefully your appetites may have been wet.
  Buy the book.  
  </p>
  <p>
  <a href='#designpatterns'>Design Patterns</a> needs no introduction. <a href='#refactoring'>Refactoring</a>
  is another influential classic. Every developer should own a copy.
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>

</div>
<!--  
END OF SLIDE 
-->

<!--  
START OF ACKNOWLEDGEMENTS 
-->
<div class="slide">
<h1>Thanks</h1>
<ul>
<li>TODO: Content</li>
<li>
<!-- 
START ATTRIBUTION 

This section should be retained by derivative works.

See http://creativecommons.org/licenses/by/3.0/

-->
Based on
<cite>Test Doubles: An Introduction To Unit Test Patterns</cite>
  by 
<a href="http://www.opentalkware.org" >OpenTalkWare</a>.
 Original source is <a href="http://opentalkware.googlecode.com/svn/talk/" rel="dc:source">available</a> under
    <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">CC-BY</a>. UI based on 
    <a href='http://www.meyerweb.com/eric/tools/s5/credits.html'>S5</a> which is public domain.
</p>
<!-- 
END ATTRIBUTION
-->
</ul>

<div class='handout'>
  <p>
  TODO:
  Foo bar blah
  </p>
  <p>
<!-- 
START ATTRIBUTION 

This section should be retained by derivative works.

See http://creativecommons.org/licenses/by/3.0/

-->
  <a href="http://www.opentalkware.org" >OpenTalkWare</a> contributors to <cite>Test Doubles: An Introduction To Unit Test Patterns</cite>
   include Robert Burrell Donkin.
<!-- 
END ATTRIBUTION
-->
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO:</li>
  <li>TODO:</li>
 </ul>
</div>
</div>
<!--  
END OF ACKNOWLEDGEMENTS
-->









</div>

</body>
</html>
