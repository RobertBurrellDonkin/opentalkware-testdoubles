<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- 

This work is licensed under the Creative Commons Attribution 3.0 Unported License. 
To view a copy of this license, visit http://creativecommons.org/licenses/by/3.0/ 
or send a letter to Creative Commons, 171 Second Street, Suite 300, San Francisco, California, 94105, USA.

-->

<html xmlns="http://www.w3.org/1999/xhtml">

<!--
START META-DATA 
-->
<head>
<title>Test Doubles: An Introduction To Unit Test Patterns</title>
<!-- metadata -->
<meta name="generator" content="S5" />
<meta name="version" content="S5 1.2a2" />
<meta name="author" content="Robert Burrell Donkin" />
<meta name="company" content="OpenTalkWare" />

<!-- configuration parameters -->
<meta name="defaultView" content="slideshow" />
<meta name="controlVis" content="hidden" />

<!-- style sheet links -->
<link rel="stylesheet" href="ui/default/slides.css" type="text/css" media="projection" id="slideProj" />
<link rel="stylesheet" href="ui/default/outline.css" type="text/css" media="screen" id="outlineStyle" />
<link rel="stylesheet" href="ui/default/print.css" type="text/css" media="print" id="slidePrint" />
<link rel="stylesheet" href="ui/default/opera.css" type="text/css" media="projection" id="operaFix" />

<!-- embedded styles -->
<style type="text/css" media="all">
/* Citations under blockquotes look well particularly styled */
div.cite {text-align: right; font-style: italic; font-family: monospace; font-size: smaller;}

/* Part header look well when similar to the fontispiece */
div.partition {font-size: larger;}
div.partition h1  {position: static; margin: 0.5em 0 0; padding: 0;
   font: bold 2em Helvetica, sans-serif; white-space: normal;
   color: #000; background: transparent;}
div.partition h2 {font: bold italic 1em Helvetica, sans-serif;}
</style>

<!-- S5 JS -->
<script src="ui/default/slides.js" type="text/javascript"></script>

</head>
<!--
END META-DATA 
-->



<body>

<!--
START COMMON LAYOUT
-->
<div class="layout">
<div id="controls"><!-- DO NOT EDIT --></div>
<div id="currentSlide"><!-- DO NOT EDIT --></div>
<div id="header"></div>
<div id="footer">
<h1>Test Doubles: An Introduction To Unit Test Patterns</h1>
<h2><a rel="license" href="http://creativecommons.org/licenses/by/3.0/">
<img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/80x15.png" />
</a>
&#8226; 
<a rel="tag" href="http://www.opentalkware.org/">
<img alt="OpenTalkWare" style="border-width:0" src="logo/opentalkware.png" />
</a>
</h2>
</div>
</div>
<!--
END COMMON LAYOUT
-->



<div class="presentation">


<!--
START PREFACE
-->
<div class="slide">
<h1>Test Doubles</h1>
<h2>An Introduction To Unit Test Patterns</h2>
<!-- 
START OPEN CONTENT ONLY
Derivative works which are not open content should remove the follow 
-->
<h4>This is <a href="http://www.opentalkware.org/" rel="external">OpenTalkWare</a></h4>
<!-- 
END OPEN CONTENT ONLY
-->

<div class="handout">
<!-- 
Document license
-->
<h4>License</h4>
<p>
<a rel="license" href="http://creativecommons.org/licenses/by/3.0/">
<img alt="CC-BY" style="border-width:0" src="http://i.creativecommons.org/l/by/3.0/80x15.png" /></a>
This work is licensed under the Creative Commons Attribution 3.0 Unported License.
</p>

<h4>Attribution</h4>
<!-- 
START ATTRIBUTION 

This section should be retained by derivative works.

See http://creativecommons.org/licenses/by/3.0/

-->
<p>
Based on
<span xmlns:dc="http://purl.org/dc/elements/1.1/" 
  href="http://purl.org/dc/dcmitype/Text" 
  property="dc:title" rel="dc:type">Test Doubles: An Introduction To Unit Test Patterns</span> 
  by 
<a xmlns:cc="http://creativecommons.org/ns#" 
  href="http://www.opentalkware.org" 
  property="cc:attributionName" 
  rel="cc:attributionURL">OpenTalkWare</a>
  The original source available
  from <a 
    xmlns:dc="http://purl.org/dc/elements/1.1/" 
    href="http://opentalkware.googlecode.com/svn/talk/" rel="dc:source">OpenTalkWare</a>
    is licensed under the
    <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a>.
The original uses <a href='http://meyerweb.com/eric/tools/s5/'>S5</a> which is public domain. Please see the
<a href='http://www.meyerweb.com/eric/tools/s5/credits.html'>credits</a> for information about all the wonderful and 
talented contributors to S5!
</p>
<!-- 
END ATTRIBUTION
-->


<!--
ABSTRACT 
-->
<h4>Summary</h4>
  <p>
 An introduction to unit testing design patterns illustrated by
 an in depth look at Test Doubles (Dummies, Mocks, Fakes And Stubs).
  </p>
<h4>Abstract</h4>
  <p>
 Unit testing is a widely used agile technique. The basics can be learnt
 quickly but developers new to unit testing often struggle to create high 
 quality, maintainable tests. Design patterns describe a solution vocabulary
 for reoccuring concepts. They are widely used as tools to improve the 
 quality of object oriented designs. This talk introduces the pattern 
 language of the unit testing domain, illustrated by Test Doubles: 
 Dummies, Mocks, Fakes and Stubs (an area with many traps for the unwary).
  </p>
</div>

<div class='notes'>
  <ul>
    <li>
<strong>Level</strong> - 
Intermediary, knowledge of the mechanics of unit testing will be assumed
    </li>
  </ul>
</div>
</div>
<!--
END PREFACE
-->









<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>TODO: SLIDE TITLE</h1>
<ul class='incremental'>
<li>TODO: Content</li>
</ul>

<div class='handout'>
  <p>
  TODO:
  Foo bar blah
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO:</li>
  <li>TODO:</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->








<!-- 
###############################################################################################
#
#
# CATALOG
#
#
###############################################################################################
-->
<!--  
START OF SLIDE 
-->
<div class="slide">
<div class='partition'>
<h1>Part Two</h1>
<h2>Catalog</h2>
</div>

<div class='handout'>
  <p>
  Thanks to  <a href='#xunittestpatterns'>xUnit Test Patterns</a>. This talk
  can only cover a small portion of the material. Buy the book.
  </p>
</div>

<div class="notes">
 <ul>
  <li>Perhaps a little break before a little more formality</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->












<!--  
START OF SLIDE 
-->
<div class="slide">
<h1><a name='sut'>Term: System Under Test</a></h1>
<blockquote>
<p>
"Software developers will probably find the term 'system under test' ... unfamiliar.<br/>
It is short for 'whatever thing we are testing'."
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>
<ul class='incremental'>
  <li>Abbreviated as SUT</li>
  <li>But <code>subject</code> often works better when naming variables</li>
</ul>
<div class='handout'>
  <p>
  TODO:
  </p>
  <p>
  A shorter name often preferrable to developers is <code>subject</code> or <code>subjectOfTest</code>.
  This is most appropriate for finely grained tests which focus exclusively on a primary
  class. 
  </p>
  <p>
  Choosing good variable names means tests are more readable and maintainable. It is often not
  immediately obvious from the context which object is the <abbr title='Subject Under Test'>SUT</abbr>.
  Naming the variable referencing the SUT <code>subject</code> or <code>systemUnderTest</code> makes
  this immediately clear to the reader.
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->


<!--  
START OF SLIDE 
-->
<div class="slide">
<h1><a name='fixture'>Term: Fixture</a></h1>
<blockquote>
<p>
"All the things we need to have in place to run a test and expect a particular outcome."
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>
<ul class='incremental'>
  <li>Invest in good fixtures</li>
</ul>
<div class='handout'>
  <p>
  <em>Fixture</em> is one of those terms that's hard to define well. Different people and different tools
  use it with subtly different shades of meaning. Following 
  <a href='#xunittestpatterns'>Gerard Meszaros</a>, this talk uses it to mean the <em>test context</em>.
  Those familar with <a href='#nunit'>NUnit</a> may find this usage a little unnatural.
  </p>
  <p>
  A good fixture is an investment. It is usually easier and quicker just to throw a load of
  dissimilar tests together by cut'N'paste. 
  </p>
  <p>
  A good fixtures pays for itself by consolidating the context into an easily readable common setup
  for a group of tests which not only test the same subject but the same general context as well. 
  This usually allows permutations and variations to be added easily, and the fixture to be more 
  readily malleable.
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>

</div>
<!--  
END OF SLIDE 
-->




<!--  
START OF SLIDE 
-->
<div class="slide">
<h1><a name='stateverification'>Pattern: State Verification</a></h1>
<blockquote>
<p>
"How do we make tests self-checking when there is state to verify?<br/>
We inspect the state of the system under test after it has been exercised
and compare it to the expected state."
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>
<ol class='incremental'>
  <li><a href='#fixture'>Fixture</a> is setup</li>
  <li><a href='#sut'>Subject</a> is exercised</li>
  <li><a href='#sut'>Subject</a>'s state is verified</li>
</ol>

<div class='handout'>
  <p>
  This is the most frequently used verification strategy. 
  </p>
  <p>
  There are a couple of notable variations covered in depth in 
  <a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a>. They differ
  in their approach to accessing the final state of the subject.
  </p><p>
  <cite>Procedural State Verification</cite> is probably the most familiar. Here,
  repeated method calls are to make to discover the state.
  </p><p>
  <cite>Expected State Specification</cite> compares the subject with a instance
  populated with the expected values. This leads to shorter assertions though 
  sometimes the required fixture is complex. This is one area where a 
  <a href='#testdouble'>Test Double</a> may be used.
  </p>
</div>

<div class="notes">
 <ul>
  <li>This is the style make famous by <a href='#testdrivendevelopment'>Test Driven Development</a>.
Read it.</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->




<!--  
START OF SLIDE 
-->
<div class="slide">
<h1><a name='behaviourverification'>Pattern: Behaviour Verification</a></h1>
<blockquote>
<p>
"How Do we make tests self-checking when there is no state to verify?.<br/>
We capture the indirect outputs of the SUT as they occur and compare them 
to the expected behaviour."
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>
<ul class='incremental'>
  <li>Checks interactions, not state</li>
  <li>Typically some sort of <a href='#testdouble'>Test Double</a> is used</li>
</ul>
<div class='handout'>
  <p>
  Bahaviour verification checks the interactions between the subject and it's depended-on 
  components. There are some important functions whose effect is not to change the state
  of the object but to choreography a sequence of interactions. Inspecting the state
  won't work in these cases.
  </p><p>
  Behaviour verification almost always uses some kind of <a href='#testdouble'>Test Double</a>.
  And quite often of many kinds. Unless the creator of the test is careful to commuicate
  clearly which behaviour is involved in verification, which in stimulation and which are
  just scenary, behaviour verification can easily lead to 
  <a href='#hightestmaintenancecosts'>High Test Maintenance Costs</a>.
  </p><p>
  There are a couple of notable approaches to behaviour verification.
  </p><p>
  <cite>Procedural Behaviour Verification</cite> captures method calls during
  the interaction, and inspects them at the end.
  </p><p>
  <cite>Expected Behaviour Verification</cite> is configured with a description
  of the required interactions and checks them as the test proceeds.
  </p>
</div>

<div class="notes">
 <ul>
  <li><abbr title='Behaviour Driven Development'><a href='#bdd'>BDD</a></abbr> 
  played a similar to that played by <abbr title='Test Driven Development'>TDD</abbr>
  in the evolution of state verification
  </li>
  <li>
  Behaviour verification is less familiar to most developers than state verification.
  Poor quality tests have a high long term cost. A general lack of practice means
  that organisations starting to use behaviour testing should ensure they set
  training time aside.
  </li>
  <li>
  There are quite a number of <a href='#mocktools'>libraries</a> for behavioural
  testing. Everyone seems to have their own favourite.
  </li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->



<!--  
START OF SLIDE 
-->
<div class="slide">
<h1><a name='hightestmaintenancecosts'>Project Smell - High Test Maintenance Cost</h1>
<blockquote>
<p>
"Too much effort is spent maintaining existing tests."
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>
<ul class='incremental'>
  <li>
  A key issue for Agile project management
  </li>
  <li>Common causes:
    <ul class='incremental'>
    <li>Hard-To-Test Code</li>
    <li><a href='#testcodeduplication'>Test Code Duplication</a></li>
    <li><a href='#fragiletest'>Fragile Test</a></li>
    <li><a href='#obscuretest'>Obscure Test</a></li>
    </ul>
  </li>
</ul>

<div class='handout'>
  <p>
  It's very easy for this to go unnoticed until it is too late. It's only clear that tests
  are unmaintainable when the time spent debugging existing tests drags development velocity
  down terminally. By this stage, it's too late - the system is overspecified and fixing
  this is going to be expensive.
  </p>
  <p>
  This is a particular problem for Agile projects with short development cycles.
  </p>
  <p>
  Hard-To-Test code is one area that <cite><a href='#testdouble'>Test Doubles</a></cite>
  have an important role to play. 
  </p>
</div>

<div class="notes">
 <ul>
  <li>When existing tests have to be debugged, this smells as if the original
  test quality was not good enough</li>
  <li>Managers need to activity monitor the amount of time spent modifying existing tests</li>
  <li>Leaders need to actively monitor the quality of test code</li>
  <li>Developers need to be able to feed information back up the chain</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->







<!--  
START OF SLIDE 
-->
<div class="slide">
<h1><a name='testcodeduplication'>Code Smell - Test Code Duplication</a></h1>
<blockquote>
<p>
"The same test code is repeated many times."
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>
<ul class='incremental'>
  <li class='incremental'>Caused by:
    <ul>
      <li>
  Lazy Test Coding
      </li>
      <li>
  Enthusiastic Repetition
      </li>
    </ul>
  </li>
  <li class='incremental'>Leads to:
    <ul>
      <li><a href='#fragiletest'>Fragile Tests</a></li>
      <li><a href='#obscuretest'>Obscure Tests</a></li>
    </ul>
</ul>

<div class='handout'>
  <p>
  The typical way that these problems arises is by a failure to factor out common code. 
  </p>
  <p>
  Poor quality code with lots of cut'N'paste repetition is just as harmful in test code
  as it is in production code. When changes need to be made to the system, all that code 
  is going to need to be review and updated. This is a key development quality issue
  that needs to be quickly address before it leads to <cite><a href='#hightestmaintenancecosts'>
  High Test Maintenance Costs</a></cite>. Investing in good <cite><a href='#fixture'>Fixtures</a>
  </cite> by factoring out common code in the fixture is crucial.
  </p>
  <p>
  At first glance, it might seem that more tests must be better but code coverage cannot 
  be improved by repeated verification of the same quality. Every repeated verification is
  another place that need to be changed if that function is modified. So, this has a 
  maintenance cost.
  </p>
  <p>
  Behind <cite>Test Code Duplication</cite> is usually an education or a time issue. 
  When time is an issue, selectively coding a small number of carefully chosen high 
  quality tests usually results in adequate coverage without the maintenance problem 
  that rushing off a quantity of poor quality tests almost always creates. 
  </p>
</div>

<div class="notes">
 <ul>
  <li>These issues are often found together in tests which try to compensate for quality 
  with quantity</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->







<!--  
START OF SLIDE 
-->
<div class="slide">
<h1><a name='fragiletest'>Behaviour Smell - Fragile Test</a></h1>
<blockquote>
<p>
"A text fails to compile or run when the SUT is changed in ways 
that do not affect the part the text is exercising."
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>
<ul class='incremental'>
<li>Fragile Tests lead to <a href='#hightestmaintenancecosts'>High Test Maintenance Costs</a></li>
<li>Two (Of The Many) Causes:
  <ul class='incremental'>
    <li>Overspecified Software</li>
    <li>Interface Sensitivity</li>
  </ul>
</li>
</ul>

<div class='handout'>
  <p>
  <cite>Fragile Tests</cite> are almost worth a talk in themselves. Read 
  <a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a> for a comprehensive
  treatment. There are two causes which have direct relevance.
  </p><p>
  One trap when using <cite><a href='#behaviourverification'>Behaviour Verification</a></cite>
  is to couple the test too deeply with the particular implementation. It fixes in detail
  not just <em>what</em> the object should do but specifies exactly <em>how</em> it
  should achieve it. Any change to the implementation will result in a broken test.
  This is <cite>Overspecified Software</cite>.
  </p><p>
  Tests should attempt to pick out key qualities to verify. To avoid overspecification,
  it is crucial to pick out the important interactions worthy of verification. A small
  number of key actors should play the major roles. The others consist of minor parts 
  and extras. These should just be used to feed lines to the chief protagonist,
  with only the most important behaviour being verified. This allows the interactions
  between the other objects and the subject to be modified without breaking the test.
  </p>
</div>

<div class="notes">
 <ul>
  <li>A common problem with <cite>Overspecified Software</cite> is that it's hard to
  understand what exactly is being tested. Verifying unimportant implementation details
  makes it hard to pick out the crucial required behaviours.
  This leads to <a href='#obscuretest'>Obscure Tests</a> as well as <code>Fragile Test</code>.</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->







<!--  
START OF SLIDE 
-->
<div class="slide">
<h1><a name='obscuretest'>Code Smell - Obscure Test</a></h1>
<blockquote>
<p>
"It is difficult to understand the test at a glance"
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>
<ul class='incremental'>
<li>
Do the basics well
</li>

</ul>

<div class='handout'>
  <p>
  Readability is the key to efficient test maintenance. A good test should communicate precisely 
  which qualities are tested and how they are. 
  </p><p>
  This starts with the simple things like choosing good names for methods, variables and fields.
  It should not be necessary to read the setup code to understand the nature of each subsidary
  object and the role that it is intended to play.
  </p><p>
  Invest in good fixtures and don't be afraid to break out tests with dissimilar setups. 
  Avoid verifying too much in each test. Fixtures which are too large and general
  not only take a while to comprehend but also hide the link between cause and effect.
  </p>
</div>

<div class="notes">
 <ul>
  <li>This another large topic. See <a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a>
  for more details.</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->





<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>Behaviour Smell: Slow Tests</h1>
<blockquote>
<p>
"The tests take too long to run."
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>
<ul class='incremental'>
  <li>Direct Costs To The Developer</li>
  <li>Indirect Costs To The Project</li>
</ul>

<div class='handout'>
  <p>
  Slow tests really are a killer. 
  </p><p>
  Though the cost of writing tests can be seen as an investment, the cost of waiting for tests 
  to run is much harder. No manager - especially a senior one - likes to see a developer surfing 
  the net, reading a paper or chatting with a collegue about the price of bread, even if it's 
  just dead time whilst the tests are running. 
  </p><p>
  The indirect effects are often more insidious. They offer a strong disincentive to running 
  the test suite regularly. In turn, this means that developers wait longer before integration
  their code. 
  </p><p>
  Infrequent code integration is major cause of delays. Developers find themselves idle waiting
  for other to commit code they rely on, or code is committed whilst they are waiting for the 
  test suite to finish. The volume of code changed between runs of the test suite is larger,
  making it more difficult to isolate which change caused the problem.
  </p><p>
  Slow tests are an area where <a href='#testdouble'>Test Doubles</a> can be of great value.
  It's exceptionally rare (on modern machines, outside numeric computing) for the actual 
  code to take long to execute. Typically, the time goes in heavyweight setup, tear down
  and data access which involve IO or extensive object creation. By substituting light weight
  doubles for heavy weight <abbr title='depended-on components'>DOCs</abbr>, is the easiest
  way to reduce these costs. 
  </p>
</div>

<div class="notes">
 <ul>
  <li>
Access to middleware or the data base is a very common cause of <cite>Slow Tests</cite>.
    <ul>
      <li>
An overreliance on this kind of test may indicate an issues with developer test writing
skill levels. More training may be required.
      </li>
      <li>
It is generally best to separate out all tests of this kind and run them on a continuous
integration server.
      </li>
      <li>
Careful consideration should be given to the approach taken to integration testing. 
For example, asking developers to write integration tests using standard unit testing 
libraries may not be the most effect way to automate this kind of test.
      </li>
     </ul>
  </li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->














<!--  
START OF SLIDE 
-->
<div class="slide">
<h1><a name='testdouble'>Pattern - Test Double</a></h1>
<blockquote>
<p>
"How can we verify logic independently when code it depends on is unusable?<br/>
How can we avoid Slow Tests?<br/>
We replace a component on which the SUT depends with a 'test specific equivalent'."
</p>
</blockquote>
<div class='cite'><p><a href='#xunittestpatterns'><cite>xUnit Test Patterns</cite></a></p></div>

<div class='handout'>
  <p>
  A test double is an imposter for a depended-upon-component. The double presents an API
  compatible with the authentic dependency but differs in behaviour.
  </p>
  <p>
  There are lots of reasons why test doubles might be used. 
  Most of these will be covered in detail in later patterns.
  </p>
  <p>
  Within a test, test doubles may be used for used for different purpose
  and even the same double may play a number of roles. This means that it's very easy for
  developers to loose clarity about the purpose of a particular double. This often leads
  to unmaintainable, brittle tests. A consequence is that particular care needs to be taken
  to ensure that tests involving doubles are clearly documented and understandable.
  </p><p>
  There are so many ways that Test Doubles are useful that this becomes the problem.
  The reason why developers decided to use a test double - the role that it was 
  intended to play - is often very hard to diagnose. 
  </p><p>
  Many <a href='#mocktools'>mocking</a> tools are versatile and powerful enough to 
  create test doubles useful in a wide variety of situations. This often leads
  to problems with 
  <cite><a href='#hightestmaintenancecost'>High Test Maintenance Costs</a></cite>
  unless the different roles are clearly understood by developers and clearly
  documented in the test. 
  </p><p>
  When mixing <abbr title='Object Oriented'>OO</abbr>
  <cite><a href='#behaviourverification'>Behaviour Verification</a></cite> with 
  other <cite>Test Doubles</cite>, the same object may - at different times - be
  playing different roles. At some times, it will just be feeding lines to the
  subject but at others it will be actively monitoring the interaction.
  </p><p>
  A maintain needs to be understand which parts of the interaction are just scene
  setting and which are crucial parts of the dialogue. It is all too easy just to 
  lazily insist that all parts of the interaction are important.
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->


<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>Pattern - Test Double:Test Stub</h1>
<ul class='incremental'>
<li></li>
</ul>

<div class='handout'>
  <p>
  Foo bar blah
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->



<!-- 
###############################################################################################
#
#
# EPILOGUE
#
#
###############################################################################################
-->


<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>Tools</h1>

<ul>
  <li>
  <a name='nunit' href='http://www.nunit.org/'>NUnit</a> is an idiomatic <code>.NET</code>
  unit testing framework
  </li>
</ul>

<div class='handout'>
  <p>
  Foo bar blah
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>

</div>
<!--  
END OF SLIDE 
-->


<!--  
START OF SLIDE 
-->
<div class="slide">
<h1><a name='mocktools'>Tools - Mocking Libraries</a></h1>

<ul>
  <li>
  TODO:
  </li>
</ul>

<div class='handout'>
  <p>
  Foo bar blah
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>

</div>
<!--  
END OF SLIDE 
-->



<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>Reading</h1>

<ul>
  <li>
  <a name='xunittestpatterns' href='http://xunitpatterns.com/'>xUnit Test Patterns: Refactoring Test Code</a> 
  by <cite>Gerard Meszaros</cite>
  </li>
  <li>
  <a name='refactoring' href='http://martinfowler.com/books.html#refactoring'>Refactoring: Improving the Design of Existing Code</a> 
  by <cite>Martin Fowler</cite>
  </li>
  <li>
  <a name='designpatterns' href='http://c2.com/cgi/wiki?DesignPatternsBook'>Design Patterns: Elements of Reusable Object-Oriented Software</a> 
  by <cite>Erich Gamma</cite> <cite>Richard Helm</cite> <cite>Ralph Johnson</cite> <cite>John Vlissides</cite>
  </li>
  <li><a name='testdrivendevelopment' href='http://www.google.co.uk/books?id=gFgnde_vwMAC&printsec=frontcover&source=gbs_summary_r&cad=0'>Test-Driven Development: By Example</a> 
  by <cite>Kent Beck</cite>
  </li>
</ul>

<div class='handout'>
  <p>
  A huge debt is owed to <a href='#xunittestpatterns'>xUnit Test Patterns</a>. The design patterns, terminology and code smells
  described are described and explained in that book. It's only possible to cover a small 
  amount of the material contained in that comprehensive tome but hopefully your appetites may have been wet.
  Buy the book.  
  </p>
  <p>
  <a href='#designpatterns'>Design Patterns</a> needs no introduction. <a href='#refactoring'>Refactoring</a>
  is another influential classic. <a href='#testdrivendevelopment'>Test Driven Development</a> is just about 
  the best way to learn the basics of Agile development. Every developer should own a copy.
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO</li>
  <li>TODO</li>
 </ul>
</div>

</div>
<!--  
END OF SLIDE 
-->





<!--  
START OF SLIDE 
-->
<div class="slide">
<h1>Surfing</h1>
<ul>
<li><a name='bdd' href='http://dannorth.net/introducing-bdd'>Introducing BDD</a> by <cite>Dan North</cite></li>
<li><a name='mocksarentstubs' href='http://martinfowler.com/articles/mocksArentStubs.html'>Mocks Aren't Stubs</a> by <cite>Martin Fowler</cite></li>
</ul>

<div class='handout'>
  <p>
Dan North's <a href='#bdd'>article</a> which introduced <cite>Behaviour Driven Development</cite> packs a huge number
of ideas into a couple of pages.
  </p>
  <p>
  Martin Fowler's <cite>Mocks Aren't Stubs</cite> is a good place start to reading about test doubles. On problem with 
  the BDD area is that it's technology lead. There are some great libraries but there's a tendency to apply them
  blindly without thought. Take a step back and think first.
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO:</li>
  <li>TODO:</li>
 </ul>
</div>
</div>
<!--  
END OF SLIDE 
-->










<!--  
START OF ACKNOWLEDGEMENTS 
-->
<div class="slide">
<h1>Thanks</h1>
<ul>
<li>TODO: Content</li>
<li>
<!-- 
START ATTRIBUTION 

This section should be retained by derivative works.

See http://creativecommons.org/licenses/by/3.0/

-->
Based on
<cite>Test Doubles: An Introduction To Unit Test Patterns</cite>
  by 
<a href="http://www.opentalkware.org" >OpenTalkWare</a>.
 Original source is <a href="http://opentalkware.googlecode.com/svn/talk/" rel="dc:source">available</a> under
    <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">CC-BY</a>. UI based on 
    <a href='http://www.meyerweb.com/eric/tools/s5/credits.html'>S5</a> which is public domain.
</p>
<!-- 
END ATTRIBUTION
-->
</ul>

<div class='handout'>
  <p>
  TODO:
  Foo bar blah
  </p>
  <p>
<!-- 
START ATTRIBUTION 

This section should be retained by derivative works.

See http://creativecommons.org/licenses/by/3.0/

-->
  <a href="http://www.opentalkware.org" >OpenTalkWare</a> contributors to <cite>Test Doubles: An Introduction To Unit Test Patterns</cite>
   include Robert Burrell Donkin.
<!-- 
END ATTRIBUTION
-->
  </p>
</div>

<div class="notes">
 <ul>
  <li>TODO:</li>
  <li>TODO:</li>
 </ul>
</div>
</div>
<!--  
END OF ACKNOWLEDGEMENTS
-->









</div>

</body>
</html>
